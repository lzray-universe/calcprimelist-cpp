# Uncrustify 0.79 兼容配置（C/C++）

# 基础缩进
indent_with_tabs        = 0
input_tab_size          = 4
output_tab_size         = 4
indent_columns          = 4

# ===== 空格策略：紧凑 =====
sp_before_sparen        = remove    # if/while/for 与 '(' 之间无空格：if(
sp_inside_sparen        = remove    # 控制语句括号内部无空格：if(a)
sp_inside_paren         = remove
sp_paren_paren          = remove
sp_cparen_oparen        = remove

sp_assign               = remove    # a=b
sp_arith                = remove    # a+b, a*b 等
sp_bool                 = remove    # a&&b
sp_compare              = remove    # a<=b 等
sp_before_comma         = remove
sp_after_comma          = remove    # int s=0,sg=1;

sp_func_call_paren      = remove    # f(
sp_func_proto_paren     = remove
sp_func_def_paren       = remove
sp_inside_fparen        = remove
sp_sparen_brace         = remove    # if(...){

# 模板尖括号不要空格：vector<int>
sp_before_angle         = remove
sp_inside_angle         = remove
sp_after_angle          = remove

# ===== 换行与花括号 =====
# K&R：关键字与 { 同行
nl_if_brace             = remove
nl_else_brace           = remove
nl_for_brace            = remove
nl_while_brace          = remove
nl_switch_brace         = remove
nl_do_brace             = remove
nl_fdef_brace           = remove
nl_brace_else           = remove     # 保持 "} else {" 同行

# 禁止“一行花括号块”：{ 之后必须换行
nl_after_brace_open     = true
nl_after_brace_open_cmt = true

# 允许没有花括号的单行控制语句（if/for/while）
nl_if_leave_one_liners    = true
nl_for_leave_one_liners   = true
nl_while_leave_one_liners = true

# 不要把多行强行折成一行
nl_create_if_one_liner    = false
nl_create_for_one_liner   = false
nl_create_while_one_liner = false

# 其他
utf8_bom                = ignore
